"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[236],{6242:function(e,r,t){var n=t(5861),a=t(7757),u=t.n(a),s=t(4569),o=t.n(s)().create({baseURL:"https://api.themoviedb.org/3/trending/movie/day"}),i=function(){var e=(0,n.Z)(u().mark((function e(r,t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,o.get("https://api.themoviedb.org/3/".concat(r),{params:{api_key:"2e46478410a3b7ef74a24e2b089ec9d3"}});case 3:n=e.sent;case 4:if(!t){e.next=8;break}return e.next=7,o.get("https://api.themoviedb.org/3/".concat(r),{params:{api_key:"2e46478410a3b7ef74a24e2b089ec9d3",query:t}});case 7:n=e.sent;case 8:return console.log(n),e.abrupt("return",n.data);case 10:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();r.Z=i},8236:function(e,r,t){t.r(r),t.d(r,{default:function(){return b}});var n=t(8683),a=t(5861),u=t(8152),s=t(7757),o=t.n(s),i=t(2791),c=t(3504),l=t(6242),p=t(9982),f=t(184),d=function(){return(0,f.jsx)(p.p2,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0})},h={form:"Movies_form__MWvXj",input:"Movies_input__aaq4I",button:"Movies_button__M1bgu"},b=function(){var e=(0,i.useState)([]),r=(0,u.Z)(e,2),t=r[0],s=r[1],p=(0,i.useState)(""),b=(0,u.Z)(p,2),m=b[0],v=b[1],g=(0,i.useState)({loading:!1,submitted:!1,query:""}),x=(0,u.Z)(g,2),k=x[0],_=x[1],y=(0,i.useState)({hasError:!1,errorMsg:""}),Z=(0,u.Z)(y,2),j=Z[0],w=Z[1],M=(0,i.useRef)("true");(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){var r,t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!M.current){e.next=4;break}return M.current=!1,e.abrupt("return");case 4:return r=k.query,e.next=7,(0,l.Z)("search/movie",r);case 7:if(t=e.sent,0!==(a=t.results).length||M.current){e.next=13;break}return _((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!1})})),w({hasError:!0,errorMsg:"No matches found"}),e.abrupt("return");case 13:s(a),w({hasError:!1,errorMsg:""}),k.loading&&_((function(e){return(0,n.Z)((0,n.Z)({},e),{},{loading:!1})})),console.log(a),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();e()}),[k]);var S=null===t||void 0===t?void 0:t.map((function(e){return(0,f.jsx)("li",{children:(0,f.jsx)(c.rU,{className:h.link,to:"/movies/".concat(e.id),children:e.title})},e.id)}));return(0,f.jsxs)("div",{children:[(0,f.jsxs)("form",{className:h.form,action:"submit",onSubmit:function(e){e.preventDefault(),_((function(){return{loading:!0,submitted:!0,query:m}}))},children:[(0,f.jsx)("input",{className:h.input,type:"text",value:m,onChange:function(e){v(e.target.value)}}),(0,f.jsx)("button",{className:h.button,type:"submit",children:"Search"})]}),k.loading&&(0,f.jsx)(d,{}),k.submitted&&(0,f.jsx)("ul",{children:S}),j.hasError&&(0,f.jsx)("h4",{children:j.errorMsg})]})}}}]);
//# sourceMappingURL=236.1dc55bf2.chunk.js.map