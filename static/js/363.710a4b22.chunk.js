"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[363],{6242:function(e,r,t){var n=t(5861),a=t(7757),u=t.n(a),o=t(4569),i=t.n(o)().create({baseURL:"https://api.themoviedb.org/3/trending/movie/day"}),c=function(){var e=(0,n.Z)(u().mark((function e(r,t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return e.next=3,i.get("https://api.themoviedb.org/3/".concat(r),{params:{api_key:"2e46478410a3b7ef74a24e2b089ec9d3"}});case 3:n=e.sent;case 4:if(!t){e.next=8;break}return e.next=7,i.get("https://api.themoviedb.org/3/".concat(r),{params:{api_key:"2e46478410a3b7ef74a24e2b089ec9d3",query:t}});case 7:n=e.sent;case 8:return e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}();r.Z=c},4598:function(e,r,t){var n=t(9982),a=t(184);r.Z=function(){return(0,a.jsx)(n.p2,{height:"80",width:"80",color:"#4fa94d",ariaLabel:"circles-loading",wrapperStyle:{},wrapperClass:"",visible:!0})}},4363:function(e,r,t){function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}t.r(r),t.d(r,{default:function(){return v}});var o=t(5861),i=t(885),c=t(7757),s=t.n(c),l=t(2791),f=t(501),p=t(6242),b=t(4598),d={form:"Movies_form__MWvXj",input:"Movies_input__aaq4I",button:"Movies_button__M1bgu"},h=t(184),v=function(e){var r=e.onLinkClick,t=(0,l.useState)([]),n=(0,i.Z)(t,2),a=n[0],c=n[1],v=(0,l.useState)(""),m=(0,i.Z)(v,2),g=m[0],y=m[1],j=(0,l.useState)({loading:!1,submitted:!1,query:""}),x=(0,i.Z)(j,2),k=x[0],w=x[1],O=(0,l.useState)({hasError:!1,errorMsg:""}),_=(0,i.Z)(O,2),Z=_[0],q=_[1],M=(0,f.lr)(),P=(0,i.Z)(M,2),S=P[0],E=P[1],C=(0,l.useRef)("true");(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)(s().mark((function e(){var r,t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!C.current||""!==S.get("query")){e.next=4;break}return C.current=!1,e.abrupt("return");case 4:return t=null!==(r=S.get("query"))&&void 0!==r?r:k.query,e.next=7,(0,p.Z)("search/movie",t);case 7:if(n=e.sent,0!==(a=n.results).length){e.next=13;break}return w((function(e){return u(u({},e),{},{loading:!1})})),q({hasError:!0,errorMsg:"No matches found"}),e.abrupt("return");case 13:w((function(e){return u(u({},e),{},{loading:!1,submitted:!0})})),c(a),q({hasError:!1,errorMsg:""}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();e()}),[k.loading,S,k.query]);var D=null===a||void 0===a?void 0:a.map((function(e){return(0,h.jsx)("li",{children:(0,h.jsx)(f.rU,{className:d.link,onClick:function(){return r()},state:{from:"/movies?query=".concat(g)},to:"/movies/".concat(e.id),children:e.title})},e.id)}));return(0,h.jsxs)("div",{children:[(0,h.jsxs)("form",{className:d.form,action:"submit",onSubmit:function(e){e.preventDefault(),""!==g&&(E({query:g}),w((function(){return{loading:!0,submitted:!0,query:g}})))},children:[(0,h.jsx)("input",{className:d.input,type:"text",value:g,onChange:function(e){y(e.target.value)}}),(0,h.jsx)("button",{className:d.button,type:"submit",children:"Search"})]}),k.loading&&(0,h.jsx)(b.Z,{}),k.submitted&&(0,h.jsx)("ul",{children:D}),Z.hasError&&(0,h.jsx)("h4",{children:Z.errorMsg})]})}}}]);
//# sourceMappingURL=363.710a4b22.chunk.js.map